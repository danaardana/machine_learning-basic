#!/usr/bin/env python3
"""
Database Integration for Version A
Connects the existing Version A chatbot with Boys Project MySQL database
"""

import sys
import os
# Add parent directory to access database_connector
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from database_connector import BoysProjectDatabase
import joblib
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.naive_bayes import MultinomialNB

class VersionADatabaseIntegrator:
    """
    Database integration for Version A chatbot
    Enhances existing responses with real product data
    """
    
    def __init__(self):
        self.db = BoysProjectDatabase()
        self.connected = False
        
        # Load existing model
        try:
            self.model = joblib.load('../ml_model/chat_model.pkl')
            self.vectorizer = joblib.load('../ml_model/vectorizer.pkl')
            print("‚úÖ Version A ML models loaded successfully!")
        except FileNotFoundError:
            print("‚ùå ML models not found. Please train the model first.")
            self.model = None
            self.vectorizer = None
    
    def connect_database(self):
        """Connect to database"""
        self.connected = self.db.connect()
        return self.connected
    
    def disconnect_database(self):
        """Disconnect from database"""
        if self.connected:
            self.db.disconnect()
            self.connected = False
    
    def predict_intent(self, user_input):
        """Predict intent using existing Version A model"""
        if not self.model or not self.vectorizer:
            return "general"
        
        X = self.vectorizer.transform([user_input])
        intent = self.model.predict(X)[0]
        return intent
    
    def get_enhanced_response(self, user_input):
        """Get enhanced response with database data"""
        if not self.connected:
            return "Maaf, sistem sedang tidak tersedia. Silakan coba lagi nanti."
        
        # Get intent from existing model
        intent = self.predict_intent(user_input)
        print(f"üéØ Detected Intent: {intent}")
        
        # Generate response based on intent with database data
        if intent == 'harga':
            return self._handle_harga_intent(user_input)
        elif intent == 'daftar':
            return self._handle_daftar_intent()
        elif intent == 'stok_produk':
            return self._handle_stok_produk_intent(user_input)
        elif intent == 'kategori_mounting_body':
            return self._handle_mounting_intent()
        elif intent == 'kategori_lighting':
            return self._handle_lighting_intent()
        elif intent == 'tipe_motor_matic':
            return self._handle_motor_compatibility()
        elif intent == 'jam_operasional':
            return self._handle_jam_operasional()
        elif intent == 'garansi':
            return self._handle_garansi()
        elif intent == 'booking_pemasangan':
            return self._handle_booking_pemasangan()
        elif intent == 'pengiriman':
            return self._handle_pengiriman()
        elif intent == 'durasi_pengiriman':
            return self._handle_durasi_pengiriman()
        elif intent == 'wilayah_pemasangan':
            return self._handle_wilayah_pemasangan()
        elif intent == 'layanan_instalasi':
            return self._handle_layanan_instalasi()
        else:
            return self._handle_general_inquiry()
    
    def _handle_harga_intent(self, user_input):
        """Handle price inquiry with real product data"""
        products = self.db.get_all_products()
        
        # Check for specific product mentions
        user_lower = user_input.lower()
        matching_products = []
        
        for product in products:
            product_words = product['name'].lower().split()
            if any(word in user_lower for word in product_words):
                matching_products.append(product)
        
        if matching_products:
            response = "üí∞ **INFORMASI HARGA PRODUK**\n\n"
            for product in matching_products[:2]:  # Limit to 2 products
                response += f"üì¶ **{product['name']}**\n"
                response += f"   ‚Ä¢ Kategori: {product['category']}\n"
                response += f"   ‚Ä¢ Stok: {product['stock']:,} unit\n"
                response += f"   ‚Ä¢ Rating: {product['average_rating']}/5.0 ({product['ratings']} reviews)\n"
                response += f"   ‚Ä¢ Terjual: {product['sold']:,} unit\n"
                
                # Get product options for detailed info
                product_detail = self.db.get_product_with_options(product['id'])
                if 'options' in product_detail and product_detail['options']:
                    response += f"   ‚Ä¢ Pilihan: "
                    option_info = []
                    for option in product_detail['options']:
                        values = [v['display_value'] for v in option['values'][:3]]  # Show first 3 values
                        option_info.append(f"{option['display_name']} ({', '.join(values)})")
                    response += "; ".join(option_info) + "\n"
                response += "\n"
            
            response += "üìû **Info harga detail & nego:**\n"
            response += "   WhatsApp: 08211990442\n"
            response += "üõí **Order langsung:** shopee.co.id/boyprojectsasli"
        else:
            # General price response with popular products
            popular_products = sorted(products, key=lambda x: x['sold'], reverse=True)[:2]
            response = "üí∞ **HARGA & PAKET BOYS PROJECT**\n\n"
            response += "üî• **Produk Terpopuler:**\n"
            for product in popular_products:
                response += f"   ‚Ä¢ {product['name']} - Terjual: {product['sold']:,} unit\n"
            
            response += "\nüí≥ **Pilihan Pembayaran:**\n"
            response += "   ‚Ä¢ Transfer Bank ‚Ä¢ COD Bandung-Cimahi\n"
            response += "   ‚Ä¢ Shopee/Tokopedia ‚Ä¢ Cicilan 0%\n\n"
            response += "üéÅ **Promo Terkini:**\n"
            response += "   ‚Ä¢ Paket bundling diskon 15%\n"
            response += "   ‚Ä¢ Member discount 10%\n"
            response += "   ‚Ä¢ Free ongkir Bandung-Cimahi\n\n"
            response += "üìû Nego harga: WhatsApp 08211990442"
        
        return response
    
    def _handle_daftar_intent(self):
        """Handle product listing with real database data"""
        products = self.db.get_all_products()
        categories = self.db.get_product_categories()
        stats = self.db.get_database_stats()
        
        response = f"üìã **KATALOG BOYS PROJECT** ({stats['total_products']} produk)\n\n"
        
        for category in categories:
            category_products = self.db.get_products_by_category(category)
            response += f"üè∑Ô∏è **{category.upper()}** ({len(category_products)} item):\n"
            
            for product in category_products:
                stock_icon = "‚úÖ" if product['stock'] > 0 else "‚è≥"
                response += f"   {stock_icon} **{product['name']}**\n"
                response += f"      üìä Stok: {product['stock']:,} | Terjual: {product['sold']:,}\n"
                response += f"      ‚≠ê Rating: {product['average_rating']}/5.0\n"
                response += f"      üìù {product['description'][:80]}...\n\n"
        
        response += f"üìä **Statistik Toko:**\n"
        response += f"   ‚Ä¢ Total Stok: {stats['total_stock']:,} unit\n"
        response += f"   ‚Ä¢ Total Terjual: {stats['total_sold']:,} unit\n"
        response += f"   ‚Ä¢ Varian Produk: {stats['total_option_values']} pilihan\n\n"
        response += "üõí **Belanja Online:** shopee.co.id/boyprojectsasli\n"
        response += "üìû **Konsultasi:** WhatsApp 08211990442"
        
        return response
    
    def _handle_stok_produk_intent(self, user_input):
        """Handle stock inquiry with real data"""
        user_lower = user_input.lower()
        products = self.db.get_all_products()
        
        # Find mentioned products
        matching_products = []
        for product in products:
            if any(word in user_lower for word in product['name'].lower().split()):
                matching_products.append(product)
        
        if matching_products:
            response = "üì¶ **STATUS STOK PRODUK**\n\n"
            for product in matching_products:
                stock_info = self.db.get_stock_info(product['id'])
                availability = "‚úÖ Ready Stock" if product['stock'] > 0 else "‚è≥ Perlu Restock"
                
                response += f"üì± **{product['name']}**\n"
                response += f"   üìä Stok: {stock_info['stock']:,} unit\n"
                response += f"   üéØ Status: {availability}\n"
                response += f"   üìà Terjual: {stock_info['sold']:,} unit\n"
                response += f"   ‚≠ê Rating: {stock_info['average_rating']}/5.0\n"
                
                if product['stock'] > 0:
                    response += f"   üöÄ Siap kirim today!\n"
                else:
                    response += f"   ‚è∞ Restock 2-3 hari kerja\n"
                response += "\n"
        else:
            # General stock overview
            in_stock = [p for p in products if p['stock'] > 0]
            low_stock = [p for p in products if p['stock'] < 100 and p['stock'] > 0]
            
            response = "üìä **RINGKASAN STOK BOYS PROJECT**\n\n"
            response += f"‚úÖ **Ready Stock:** {len(in_stock)} produk\n"
            if low_stock:
                response += f"‚ö†Ô∏è **Stok Terbatas:** {len(low_stock)} produk\n"
            
            response += "\nüì¶ **Produk Ready Stock:**\n"
            for product in in_stock:
                response += f"   ‚Ä¢ {product['name']} ({product['stock']:,} unit)\n"
            
            if low_stock:
                response += "\n‚ö†Ô∏è **Stok Terbatas (buruan!):**\n"
                for product in low_stock:
                    response += f"   ‚Ä¢ {product['name']} ({product['stock']} unit)\n"
        
        response += "\nüìû **Cek stok real-time:** WhatsApp 08211990442\n"
        response += "üîî **Notifikasi restock:** Follow IG @boyprojects"
        
        return response
    
    def _handle_mounting_intent(self):
        """Handle mounting products with database data"""
        mounting_products = self.db.get_products_by_category('Mounting & Body')
        
        response = "üîß **KATEGORI: MOUNTING & BODY**\n\n"
        
        for product in mounting_products:
            response += f"üèçÔ∏è **{product['name']}**\n"
            response += f"   üìù {product['description']}\n"
            response += f"   üì¶ Stok: {product['stock']:,} unit\n"
            response += f"   ‚≠ê Rating: {product['average_rating']}/5.0 ({product['ratings']} reviews)\n"
            response += f"   üèÜ Terjual: {product['sold']:,} unit\n"
            
            # Show compatibility info
            product_detail = self.db.get_product_with_options(product['id'])
            if 'options' in product_detail and product_detail['options']:
                response += f"   üèçÔ∏è **Kompatibilitas:**\n"
                for option in product_detail['options']:
                    if 'motor' in option['option_name'].lower():
                        motor_values = [v['display_value'] for v in option['values'] if v['is_available']]
                        response += f"      ‚Ä¢ {', '.join(motor_values[:5])}"
                        if len(motor_values) > 5:
                            response += f" + {len(motor_values)-5} lainnya"
                        response += "\n"
                    elif 'size' in option['option_name'].lower():
                        size_values = [v['display_value'] for v in option['values'] if v['is_available']]
                        response += f"      ‚Ä¢ Ukuran: {', '.join(size_values)}\n"
            response += "\n"
        
        response += "‚ú® **Keunggulan Mounting Boys Project:**\n"
        response += "   ‚Ä¢ Plug & Play installation\n"
        response += "   ‚Ä¢ Presisi tinggi, tidak miring\n"
        response += "   ‚Ä¢ Material berkualitas tinggi\n"
        response += "   ‚Ä¢ Garansi kesesuaian\n\n"
        response += "üõí **Order:** shopee.co.id/boyprojectsasli\n"
        response += "üìû **Konsultasi:** WhatsApp 08211990442"
        
        return response
    
    def _handle_lighting_intent(self):
        """Handle lighting products with database data"""
        lighting_products = self.db.get_products_by_category('Lampu')
        
        response = "üí° **KATEGORI: LIGHTING**\n\n"
        
        for product in lighting_products:
            response += f"üîÜ **{product['name']}**\n"
            response += f"   üìù {product['description']}\n"
            response += f"   üì¶ Stok: {product['stock']:,} unit\n"
            response += f"   ‚≠ê Rating: {product['average_rating']}/5.0\n"
            
            # Show product options
            product_detail = self.db.get_product_with_options(product['id'])
            if 'options' in product_detail and product_detail['options']:
                response += f"   üîß **Pilihan:**\n"
                for option in product_detail['options']:
                    values = [v['display_value'] for v in option['values'] if v['is_available']]
                    response += f"      ‚Ä¢ {option['display_name']}: {', '.join(values)}\n"
            response += "\n"
        
        response += "‚ö° **Keunggulan Lampu Boys Project:**\n"
        response += "   ‚Ä¢ LED berkualitas tinggi\n"
        response += "   ‚Ä¢ Hemat listrik aki motor\n"
        response += "   ‚Ä¢ Plug & Play installation\n"
        response += "   ‚Ä¢ Waterproof & tahan lama\n"
        response += "   ‚Ä¢ Garansi produk\n\n"
        response += "üõí **Order:** shopee.co.id/boyprojectsasli\n"
        response += "üìû **Konsultasi:** WhatsApp 08211990442"
        
        return response
    
    def _handle_motor_compatibility(self):
        """Handle motor compatibility with database data"""
        products = self.db.get_all_products()
        motor_types = set()
        
        # Extract motor types from database
        for product in products:
            product_detail = self.db.get_product_with_options(product['id'])
            if 'options' in product_detail:
                for option in product_detail['options']:
                    if 'motor' in option['option_name'].lower():
                        for value in option['values']:
                            if value['is_available']:
                                motor_types.add(value['display_value'])
        
        # Categorize by brand
        yamaha_motors = [m for m in motor_types if any(y in m.lower() for y in ['aerox', 'nmax', 'lexi', 'mio', 'jupiter'])]
        honda_motors = [m for m in motor_types if any(h in m.lower() for h in ['vario', 'beat', 'scoopy', 'pcx'])]
        other_motors = [m for m in motor_types if m not in yamaha_motors + honda_motors]
        
        response = "üèçÔ∏è **MOTOR SUPPORT BOYS PROJECT**\n\n"
        
        if yamaha_motors:
            response += "üîµ **YAMAHA:**\n"
            for motor in sorted(yamaha_motors):
                response += f"   ‚úÖ {motor}\n"
            response += "\n"
        
        if honda_motors:
            response += "üî¥ **HONDA:**\n"
            for motor in sorted(honda_motors):
                response += f"   ‚úÖ {motor}\n"
            response += "\n"
        
        if other_motors:
            response += "‚ö™ **BRAND LAIN:**\n"
            for motor in sorted(other_motors):
                response += f"   ‚úÖ {motor}\n"
            response += "\n"
        
        # Add product-specific compatibility
        mounting_products = self.db.get_products_by_category('Mounting & Body')
        if mounting_products:
            response += f"üìä **STATISTIK KOMPATIBILITAS:**\n"
            response += f"   ‚Ä¢ {len(motor_types)} tipe motor didukung\n"
            response += f"   ‚Ä¢ {len(mounting_products)} produk mounting tersedia\n"
            response += f"   ‚Ä¢ Tingkat kompatibilitas: 95%+\n\n"
        
        response += "‚ùì **Motor tidak ada di list?**\n"
        response += "   WhatsApp: 08211990442\n"
        response += "   Kami bantu cek kompatibilitas motor Anda!\n\n"
        response += "üîß **Custom Fitting:**\n"
        response += "   Tersedia untuk motor langka/modif"
        
        return response
    
    def _handle_jam_operasional(self):
        """Handle operating hours - use static data"""
        return """‚è∞ **JAM OPERASIONAL BOYS PROJECT**

üìÖ **JADWAL BUKA:**
   ‚Ä¢ Senin - Jumat: 08:00 - 17:00 WIB
   ‚Ä¢ Sabtu - Minggu: 10:00 - 16:00 WIB

üìû **CUSTOMER SERVICE:**
   ‚Ä¢ WhatsApp: 08211990442 (24/7 response)
   ‚Ä¢ Fast response: 09:00 - 17:00 WIB

üè™ **WORKSHOP & TOKO:**
   ‚Ä¢ Alamat: Cimahi, Bandung
   ‚Ä¢ Pemasangan: Sesuai jam operasional
   ‚Ä¢ Home service: By appointment

üéØ **FAST RESPONSE:**
   ‚Ä¢ Order & konsultasi via WhatsApp
   ‚Ä¢ Cek stok real-time
   ‚Ä¢ Booking pemasangan"""
    
    def _handle_garansi(self):
        """Handle warranty info"""
        return """üõ°Ô∏è **GARANSI BOYS PROJECT**

‚úÖ **GARANSI PRODUK:**
   ‚Ä¢ Mounting: 1 tahun garansi
   ‚Ä¢ Lampu LED: 6 bulan garansi
   ‚Ä¢ Body kit: 6 bulan garansi

‚úÖ **GARANSI PEMASANGAN:**
   ‚Ä¢ Workmanship: 30 hari
   ‚Ä¢ Hasil kerja teknisi dijamin

üìã **SYARAT GARANSI:**
   ‚Ä¢ Produk dibeli dari Boys Project resmi
   ‚Ä¢ Kerusakan bukan akibat pemakaian tidak wajar
   ‚Ä¢ Menyertakan bukti pembelian

üìû **KLAIM GARANSI:**
   WhatsApp: 08211990442

üìç **SERVICE CENTER:**
   Workshop Cimahi, Bandung"""
    
    def _handle_booking_pemasangan(self):
        """Handle installation booking"""
        return """üìÖ **BOOKING PEMASANGAN BOYS PROJECT**

üîß **LAYANAN PEMASANGAN:**
   ‚Ä¢ Mounting installation
   ‚Ä¢ Lampu LED setup
   ‚Ä¢ Body kit fitting
   ‚Ä¢ Custom modification

‚è∞ **JAM PEMASANGAN:**
   ‚Ä¢ Senin - Jumat: 08:00 - 17:00
   ‚Ä¢ Sabtu - Minggu: 10:00 - 16:00

üìû **CARA BOOKING:**
   1. WhatsApp: 08211990442
   2. Sebutkan: jenis produk + tipe motor
   3. Pilih waktu appointment
   4. Konfirmasi kedatangan

üí∞ **BIAYA INSTALASI:**
   ‚Ä¢ Mounting: Rp 50,000
   ‚Ä¢ Lampu: Rp 75,000
   ‚Ä¢ Body kit: Rp 100,000
   ‚Ä¢ Home service: +Rp 30,000

üìç **LOKASI:**
   Workshop Cimahi, Bandung"""
    
    def _handle_pengiriman(self):
        """Handle shipping info"""
        return """üì¶ **PENGIRIMAN BOYS PROJECT**

üöö **EKSPEDISI PARTNER:**
   ‚Ä¢ JNE (Regular & Express)
   ‚Ä¢ J&T Express
   ‚Ä¢ SiCepat
   ‚Ä¢ Grab/Gojek (Bandung area)

üí∞ **ONGKOS KIRIM:**
   ‚Ä¢ Bandung-Cimahi: GRATIS
   ‚Ä¢ Luar kota: Sesuai tarif ekspedisi
   ‚Ä¢ Same day delivery: +Rp 10,000

üì¶ **PACKAGING:**
   ‚Ä¢ Bubble wrap + kardus tebal
   ‚Ä¢ Packing aman untuk spare parts
   ‚Ä¢ Include manual pemasangan

‚è∞ **PROCESSING TIME:**
   ‚Ä¢ Same day (order < 14:00 WIB)
   ‚Ä¢ H+1 (order > 14:00 WIB)

üõí **ORDER:**
   WhatsApp: 08211990442
   Shopee: shopee.co.id/boyprojectsasli"""
    
    def _handle_durasi_pengiriman(self):
        """Handle shipping duration"""
        return """‚è±Ô∏è **DURASI PENGIRIMAN BOYS PROJECT**

üèÉ‚Äç‚ôÇÔ∏è **SAME DAY (BANDUNG-CIMAHI):**
   ‚Ä¢ Grab/Gojek: 1-2 jam
   ‚Ä¢ Kurir toko: 2-4 jam

üöö **PULAU JAWA:**
   ‚Ä¢ JNE REG: 1-2 hari
   ‚Ä¢ JNE YES: 1 hari
   ‚Ä¢ J&T Express: 1-2 hari
   ‚Ä¢ SiCepat: 1-2 hari

üõ´ **LUAR PULAU JAWA:**
   ‚Ä¢ JNE REG: 2-4 hari
   ‚Ä¢ JNE YES: 1-2 hari
   ‚Ä¢ Tergantung akses wilayah

‚ö° **EXPRESS SERVICE:**
   ‚Ä¢ Overnight delivery available
   ‚Ä¢ Premium shipping +50% tarif

üìû **TRACKING INFO:**
   WhatsApp: 08211990442"""
    
    def _handle_wilayah_pemasangan(self):
        """Handle installation area coverage"""
        return """üìç **WILAYAH PEMASANGAN BOYS PROJECT**

üè™ **WORKSHOP UTAMA:**
   ‚Ä¢ Alamat: Cimahi, Bandung
   ‚Ä¢ Fasilitas: Tools lengkap + parking luas

üèçÔ∏è **HOME SERVICE AREA:**
   ‚Ä¢ Bandung Raya
   ‚Ä¢ Cimahi & sekitarnya
   ‚Ä¢ Minimum order berlaku

ü§ù **COVERAGE AREA:**
   ‚Ä¢ Bandung Timur/Barat/Selatan/Utara
   ‚Ä¢ Cimahi Utara/Selatan
   ‚Ä¢ Margahayu, Katapang, Soreang
   ‚Ä¢ Lembang, Parongpong

üí∞ **BIAYA HOME SERVICE:**
   ‚Ä¢ Dalam kota: +Rp 30,000
   ‚Ä¢ Luar kota: Nego via WhatsApp

üìû **BOOKING HOME SERVICE:**
   WhatsApp: 08211990442"""
    
    def _handle_layanan_instalasi(self):
        """Handle installation service info"""
        return """üîß **LAYANAN INSTALASI BOYS PROJECT**

‚ö° **JENIS LAYANAN:**
   ‚Ä¢ Mounting installation
   ‚Ä¢ LED lighting setup
   ‚Ä¢ Body kit fitting
   ‚Ä¢ Custom modification
   ‚Ä¢ Troubleshooting

üë®‚Äçüîß **KEUNGGULAN TIM:**
   ‚Ä¢ Teknisi berpengalaman 5+ tahun
   ‚Ä¢ Spesialisasi motor matic
   ‚Ä¢ Tools professional lengkap
   ‚Ä¢ Garansi hasil kerja

üí∞ **TARIF INSTALASI:**
   ‚Ä¢ Mounting: Rp 50,000
   ‚Ä¢ Lampu LED: Rp 75,000
   ‚Ä¢ Body kit: Rp 100,000
   ‚Ä¢ Custom work: Nego

‚è∞ **ESTIMASI WAKTU:**
   ‚Ä¢ Mounting: 45-90 menit
   ‚Ä¢ Lampu: 30-60 menit
   ‚Ä¢ Body kit: 1-2 jam

üìç **LOKASI SERVICE:**
   ‚Ä¢ Workshop: Cimahi, Bandung
   ‚Ä¢ Home service: Area Bandung Raya

üìû **BOOKING:**
   WhatsApp: 08211990442"""
    
    def _handle_general_inquiry(self):
        """Handle general inquiries"""
        stats = self.db.get_database_stats() if self.connected else {}
        
        response = "üëã **SELAMAT DATANG DI BOYS PROJECT**\n\n"
        response += "üèçÔ∏è **SPESIALIS SPAREPART MOTOR MATIC**\n"
        response += "   ‚Ä¢ Mounting & Body Kit\n"
        response += "   ‚Ä¢ LED Lighting System\n"
        response += "   ‚Ä¢ Custom Modification\n\n"
        
        if stats:
            response += f"üìä **STATS TOKO:**\n"
            response += f"   ‚Ä¢ {stats.get('total_products', 0)} produk tersedia\n"
            response += f"   ‚Ä¢ {stats.get('total_stock', 0):,} unit stock\n"
            response += f"   ‚Ä¢ {stats.get('total_sold', 0):,} unit terjual\n\n"
        
        response += "üìû **HUBUNGI KAMI:**\n"
        response += "   ‚Ä¢ WhatsApp: 08211990442\n"
        response += "   ‚Ä¢ IG: @boyprojects\n"
        response += "   ‚Ä¢ Shopee: shopee.co.id/boyprojectsasli\n\n"
        response += "üí¨ **TANYA TENTANG:**\n"
        response += "   ‚Ä¢ Harga & promo\n"
        response += "   ‚Ä¢ Stok produk\n"
        response += "   ‚Ä¢ Kompatibilitas motor\n"
        response += "   ‚Ä¢ Booking pemasangan"
        
        return response

def main():
    """Demo Version A with database integration"""
    print("ü§ñ VERSION A - DATABASE INTEGRATION DEMO")
    print("=" * 60)
    
    integrator = VersionADatabaseIntegrator()
    
    if not integrator.connect_database():
        print("‚ùå Cannot connect to database. Please check XAMPP MySQL.")
        return
    
    try:
        # Demo conversations
        demo_queries = [
            "Berapa harga mounting vario?",
            "Produk apa saja yang tersedia?", 
            "Apakah mounting aerox masih ada stok?",
            "Motor apa saja yang didukung?",
            "Jam buka tutup kapan?",
        ]
        
        for i, query in enumerate(demo_queries, 1):
            print(f"\n{i}. üë§ User: {query}")
            response = integrator.get_enhanced_response(query)
            print(f"ü§ñ Bot: {response}")
            print("-" * 40)
    
    finally:
        integrator.disconnect_database()
    
    print("\n‚úÖ Version A Database Integration Demo Complete!")

if __name__ == "__main__":
    main() 